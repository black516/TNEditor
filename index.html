<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>TNEditor tester</title>
<script type="text/javascript" src="js/jquery-1.7.1.js"></script>
<script type="text/javascript" src="js/TNEditor.js"></script>
<script type="text/javascript">
$(function() {
	var baseEditor = new TNEditor({
		base: ["bold", "color", "addLink", "cancelLink", "addStar", "addStar2", "editMode", "preview"],
		container: $("#baseEditor"),
		width: 600,
		height: 400
	});
	baseEditor.init();
	var html = '<strong>★营业时间：</strong>\n景区开放时间：9:00—24:00。换票时间：9:00—24:00。\n<strong>★取票方式：</strong>\n在线支付成功后，出游当天至温泉前台姓名和手机号取票。\n<strong>★特殊人群预定标准：</strong>\n1. 免票政策：暂无。\n2. 优惠政策：暂无。\n<strong>★提前预订时间：</strong>\n请至少提前一天的15:00前预订。\n<strong>★费用说明：</strong>\n1. 门票包含：含温泉票一张。\n2. 自费项目：详见景区公告。\n<font color="red"><strong>★特别说明：</strong></font>\n<font color="red">1. 发票说明：发票由途牛网提供。</font>';
	html = nl2br(html, true);
	baseEditor.editbody.bodyEvent.setHtmlContent.call(baseEditor, html);
	$('#save').click(function(){
		$('#content').text(baseEditor.editbody.bodyEvent.getHtmlContent.call(baseEditor, null));
	});
	// var baseEditor2 = new TNEditor({
	// 	base: ["bold", "color", "addLink", "cancelLink", "addStar", "addStar2", "editMode", "preview"],
	// 	container: $("#baseEditor2"),
	// 	width: 600,
	// 	height: 400
	// });
	// baseEditor2.init();

	//测试\n转<br />
	function nl2br (str, is_xhtml) {
	 var breakTag = (is_xhtml || typeof is_xhtml === 'undefined') ? '<br />' : '<br>';     
	 return (str + '').replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g, '$1'+ breakTag +'$2'); 
	}
})
</script>
<style>
#baseEditor{}
</style>
</head>

<body>
<div id="baseEditor" style="width:600px;height:400px;float:left;"></div>
<div id="content" style="float:right;width:500px;font-size:12px;"></div>

<div style="clear:both;padding-top:20px;">
	<button id="save">保存</button>
</div>

<div id="baseEditor2"></div>

</body>
</html>
